(this.webpackJsonpvcard=this.webpackJsonpvcard||[]).push([[0],{36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),s=a.n(c),o=(a(36),a(13)),i=a(2),l=a(1),u=a(14),j=a(5),b=a(7),f=a(31),O=(a(38),["label"]),h=function(e){var t=e.label,a=Object(f.a)(e,O);return Object(l.jsx)("div",{className:"input-container",children:Object(l.jsxs)("label",{className:"input-label",children:[Object(l.jsx)("span",{children:t}),Object(l.jsx)("input",Object(j.a)({className:"input-text",type:"text",spellCheck:"false"},a))]})})},m=(a(39),[{name:"Display Name"},{name:"Title"},{name:"Phone Number"},{name:"Email"},{name:"Homepage"}]),d="SET_USER_PROFILE",p="SET_USER_PHOTO",x=a(11),v=Object(x.b)((function(e){return{userProfile:e.user.userProfile}}),(function(e){return{setUserPhoto:function(t){return e({type:p,payload:t})},setUserProfile:function(t){return e(function(e){return{type:d,payload:e}}(t))}}}))((function(e){var t=e.userProfile,a=e.setUserProfile,n=e.setUserPhoto,c=Object(r.useState)(t||{}),s=Object(b.a)(c,2),o=s[0],f=s[1],O=Object(i.f)(),d=function(e){var t=e.target,a=t.name,r=t.value;f((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},a,r))}))};return Object(l.jsxs)("section",{className:"create-profile",children:[Object(l.jsx)("h1",{children:"Create a profile"}),Object(l.jsxs)("form",{className:"create-profile__form",onSubmit:function(e){e.preventDefault(),a(o),O("/")},children:[m.map((function(e,t){return Object(l.jsx)(h,{label:e.name,name:e.name,onChange:d,value:o[e.name]||""},t)})),Object(l.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],a=new Blob([t]),r=URL.createObjectURL(a,{type:a.type});n(r)}}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"btn",children:"Save"})})]})]})})),N=a(27),P=a.n(N),g=a.p+"static/media/blank-avatar.f463a804.jpg",y=(a(70),Object(x.b)((function(e){return{userPhoto:e.user.userPhoto,userProfile:e.user.userProfile,userProfileQRData:e.user.userProfileQRData}}))((function(e){var t=e.userPhoto,a=e.userProfile,n=e.userProfileQRData,c=Object(r.useRef)(),s=Object(i.f)();return Object(r.useEffect)((function(){if(a){P.a.toCanvas(c.current,n,{color:{dark:"#333333"}},(function(e){e&&console.log("error:",e)}))}else s("/create")}),[]),a?Object(l.jsxs)("div",{className:"user-profile-container",children:[Object(l.jsxs)("div",{className:"user-profile",children:[Object(l.jsx)("div",{className:"user-profile__avatar",children:Object(l.jsx)("img",{src:t||g,alt:""})}),Object(l.jsxs)("div",{className:"user-profile__text",children:[Object(l.jsx)("h3",{className:"user-profile__text--name",children:a["Display Name"]}),Object(l.jsx)("h3",{className:"user-profile__text--phone",children:a["Phone Number"]}),Object(l.jsx)("h3",{className:"user-profile__text--email",children:a.Email}),Object(l.jsx)("h3",{className:"user-profile__text--homepage",children:a.Homepage})]})]}),Object(l.jsx)("div",{className:"qr-canvas-container",children:Object(l.jsx)("canvas",{className:"qr-canvas",ref:c})}),Object(l.jsx)("div",{className:"qr-prompt",children:Object(l.jsx)("h1",{children:"Scan to add"})})]}):Object(l.jsx)("div",{})}))),_=(a(71),function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/",element:Object(l.jsx)(y,{})}),Object(l.jsx)(i.a,{path:"/create",element:Object(l.jsx)(v,{})})]})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E={"Display Name":"FN",Email:"EMAIL",Title:"TITLE","Phone Number":"TEL",Homepage:"URL"},R=function(e){var t="\nBEGIN:VCARD\nVERSION:3.0\n";for(var a in e)E[a]&&(t+="".concat(E[a],":").concat(e[a],"\n"));return t+="END:VCARD"},D={userProfile:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(j.a)(Object(j.a)({},e),{},{userProfile:t.payload,userProfileQRData:R(t.payload)});case p:return Object(j.a)(Object(j.a)({},e),{},{userPhoto:t.payload});default:return e}},S=a(6),U=Object(S.b)({user:w}),k=a(28),T=a.n(k),C=a(20),L=a(29),I=a.n(L),B=[T.a],H={key:"root",storage:I.a},Q=Object(C.a)(H,U),q=Object(S.c)(Q,S.a.apply(void 0,B)),A=Object(C.b)(q),V=a(30);s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(x.a,{store:q,children:Object(l.jsx)(V.a,{persistor:A,children:Object(l.jsx)(_,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.60f7d823.chunk.js.map