(this.webpackJsonpvcard=this.webpackJsonpvcard||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),s=(n(35),n(10)),i=n(2),l=(n(36),n(1)),u=function(){return Object(l.jsxs)("section",{className:"homepage-section",children:[Object(l.jsx)(s.b,{className:"action-item ghost",to:"create",children:"Create"}),Object(l.jsx)(s.b,{className:"action-item",to:"display",children:"Display"})]})},j=n(14),d=n(5),f=n(7),b=n(30),h=(n(38),["label"]),p=function(e){var t=e.label,n=Object(b.a)(e,h);return Object(l.jsx)("div",{className:"input-container",children:Object(l.jsxs)("label",{className:"input-label",children:[Object(l.jsx)("span",{children:t}),Object(l.jsx)("input",Object(d.a)({className:"input-text",type:"text",spellCheck:"false"},n))]})})},m=(n(39),[{name:"Display Name"},{name:"Title"},{name:"Phone Number"},{name:"Email"},{name:"Homepage"}]),O="SET_USER_PROFILE",v="SET_USER_PHOTO",x=n(12),g=Object(x.b)((function(e){return{userProfile:e.user.userProfile}}),(function(e){return{setUserPhoto:function(t){return e({type:v,payload:t})},setUserProfile:function(t){return e(function(e){return{type:O,payload:e}}(t))}}}))((function(e){var t=e.userProfile,n=e.setUserProfile,r=e.setUserPhoto,c=Object(a.useState)(t||{}),o=Object(f.a)(c,2),s=o[0],u=o[1],b=Object(i.f)(),h=function(e){var t=e.target,n=t.name,a=t.value;u((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(j.a)({},n,a))}))};return Object(l.jsxs)("section",{className:"create-profile",children:[Object(l.jsx)("h1",{children:"Create a profile"}),Object(l.jsxs)("form",{className:"create-profile__form",onSubmit:function(e){e.preventDefault(),n(s),b("/vcard/display")},children:[m.map((function(e,t){return Object(l.jsx)(p,{label:e.name,name:e.name,onChange:h,value:s[e.name]||""},t)})),Object(l.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new Blob([t]),a=new FileReader;a.onloadend=function(){r(a.result)},a.readAsDataURL(n)}}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"btn",children:"Save"})})]})]})})),N=n(27),w=n.n(N),P=n.p+"static/media/blank-avatar.f463a804.jpg",y=(n(70),Object(x.b)((function(e){return{userPhoto:e.user.userPhoto,userProfile:e.user.userProfile,userProfileQRData:e.user.userProfileQRData}}))((function(e){var t=e.userPhoto,n=e.userProfile,r=e.userProfileQRData,c=Object(a.useRef)(),o=Object(i.f)();return Object(a.useEffect)((function(){if(n){w.a.toCanvas(c.current,r,{color:{dark:"#333333"}},(function(e){e&&console.log("error:",e)}))}else o("/vcard/create")}),[]),n?Object(l.jsxs)("div",{className:"user-profile-container",children:[Object(l.jsxs)("div",{className:"user-profile",children:[Object(l.jsx)("div",{className:"user-profile__avatar",children:Object(l.jsx)("img",{src:t||P,alt:""})}),Object(l.jsxs)("div",{className:"user-profile__text",children:[Object(l.jsx)("h3",{className:"user-profile__text--name",children:n["Display Name"]}),Object(l.jsx)("h3",{className:"user-profile__text--phone",children:n["Phone Number"]}),Object(l.jsx)("h3",{className:"user-profile__text--email",children:n.Email}),Object(l.jsx)("h3",{className:"user-profile__text--homepage",children:n.Homepage})]})]}),Object(l.jsx)("div",{className:"qr-canvas-container",children:Object(l.jsx)("canvas",{className:"qr-canvas",ref:c})}),Object(l.jsx)("div",{className:"qr-prompt",children:Object(l.jsx)("h1",{children:"Scan to add"})})]}):Object(l.jsx)("div",{})}))),E=(n(71),function(){return Object(l.jsx)(s.a,{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/vcard",element:Object(l.jsx)(u,{})}),Object(l.jsx)(i.a,{path:"/vcard/display",element:Object(l.jsx)(y,{})}),Object(l.jsx)(i.a,{path:"/vcard/create",element:Object(l.jsx)(g,{})})]})})}),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var R={"Display Name":"FN",Email:"EMAIL",Title:"TITLE","Phone Number":"TEL",Homepage:"URL"},S=function(e){var t="\nBEGIN:VCARD\nVERSION:3.0\n";for(var n in e)R[n]&&(t+="".concat(R[n],":").concat(e[n],"\n"));return t+="END:VCARD"},D={userProfile:null},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{userProfile:t.payload,userProfileQRData:S(t.payload)});case v:return Object(d.a)(Object(d.a)({},e),{},{userPhoto:t.payload});default:return e}},T=n(6),C=Object(T.b)({user:U}),L=(n(72),n(20)),W=n(28);var A={key:"root",storage:n.n(W).a},I=Object(L.a)(A,C),B=Object(T.c)(I,T.a.apply(void 0,[])),H=Object(L.b)(B),Q=n(29);o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(x.a,{store:B,children:Object(l.jsx)(Q.a,{persistor:H,children:Object(l.jsx)(E,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):k(t,e)}))}}()}},[[75,1,2]]]);
//# sourceMappingURL=main.d3dfbf48.chunk.js.map